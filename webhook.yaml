apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: validate-cronjobs-webhook
webhooks:
- name: validate-cronjobs.example.com
  rules:
  - apiGroups: ["batch"]
    apiVersions: ["v1"]
    operations: ["CREATE"]
    resources: ["cronjobs"]
  clientConfig:
    service:
      name: admission-controller-service
      namespace: default
      path: "/validate-jobs"
      port: 8080
    caBundle: ""  # Remove CA bundle since we're not using TLS
  sideEffects: None
  admissionReviewVersions: ["v1", "v1beta1"]
